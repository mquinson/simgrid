if(HAVE_MC)
  add_executable       (centralized      centralized_mutex.c)
  target_link_libraries(centralized      simgrid)
  add_executable       (bugged1          bugged1.c)
  target_link_libraries(bugged1          simgrid)
  add_executable       (bugged2          bugged2.c)
  target_link_libraries(bugged2          simgrid)
  add_executable       (bugged3          bugged3.c)
  target_link_libraries(bugged3          simgrid)
  add_executable       (electric_fence   electric_fence.c)
  target_link_libraries(electric_fence   simgrid)
  add_executable       (bugged1_liveness bugged1_liveness.c)
  target_link_libraries(bugged1_liveness simgrid)
  add_executable       (bugged2_liveness bugged2_liveness.c)
  target_link_libraries(bugged2_liveness simgrid)

  if(HAVE_C_STACK_CLEANER)
    add_executable       (bugged1_liveness_cleaner_on  bugged1_liveness.c)
    target_link_libraries(bugged1_liveness_cleaner_on  simgrid)
    set_target_properties(bugged1_liveness_cleaner_on  PROPERTIES COMPILE_FLAGS "-DGARBAGE_STACK -fstack-cleaner")
    
    add_executable       (bugged1_liveness_cleaner_off bugged1_liveness.c)
    target_link_libraries(bugged1_liveness_cleaner_off simgrid)
    set_target_properties(bugged1_liveness_cleaner_off PROPERTIES COMPILE_FLAGS "-DGARBAGE_STACK -fno-stack-cleaner")
  endif()
endif()

set(tesh_files
  ${tesh_files}
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged2.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness_visited.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness_sparse.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness_visited_sparse.tesh
  ${CMAKE_CURRENT_SOURCE_DIR}/centralized.tesh
  PARENT_SCOPE)
set(xml_files
  ${xml_files}
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged1_liveness.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged1_liveness_visited.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged1.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged2_liveness.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged2.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_bugged3.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_electric_fence.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/deploy_mutex.xml
  ${CMAKE_CURRENT_SOURCE_DIR}/platform.xml
  PARENT_SCOPE)
set(examples_src
  ${examples_src}
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1.c
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness.c
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged2.c
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged2_liveness.c
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged3.c
  ${CMAKE_CURRENT_SOURCE_DIR}/electric_fence.c
  ${CMAKE_CURRENT_SOURCE_DIR}/centralized_mutex.c
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness.h
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged2_liveness.h
  PARENT_SCOPE)
set(bin_files
  ${bin_files}
  ${CMAKE_CURRENT_SOURCE_DIR}/promela_bugged1_liveness
  ${CMAKE_CURRENT_SOURCE_DIR}/promela_bugged2_liveness
  ${CMAKE_CURRENT_SOURCE_DIR}/bugged1_liveness_stack_cleaner
  PARENT_SCOPE)
